--- zgrep.in.orig	Thu Mar 14 00:42:21 2002
+++ zgrep.in	Thu Mar 14 00:46:52 2002
@@ -92,6 +92,7 @@
 fi
 
 res=0
+trap break PIPE
 for i do
   gzip -cdfq "$i" |
     if test $files_with_matches -eq 1; then
@@ -111,4 +112,5 @@
   r=$?
   test $res -lt $r && res=$r
 done
+trap - PIPE
 exit $res
